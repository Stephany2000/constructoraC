--
-- Script was generated by Devart dbForge Studio 2022 for MySQL, Version 9.1.21.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 27/4/2023 05:30:54
-- Server version: 10.4.20
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
--
-- Drop table `tbl_hdañadas`
--
DROP TABLE IF EXISTS tbl_hdañadas;

--
-- Drop table `tbl_prestamo`
--
DROP TABLE IF EXISTS tbl_prestamo;

--
-- Drop table `tbl_usuario`
--
DROP TABLE IF EXISTS tbl_usuario;

--
-- Drop table `tbl_empleado`
--
DROP TABLE IF EXISTS tbl_empleado;

--
-- Drop table `tbl_tipo_usuario`
--
DROP TABLE IF EXISTS tbl_tipo_usuario;

--
-- Drop table `tbl_herramienta`
--
DROP TABLE IF EXISTS tbl_herramienta;

--
-- Drop table `tbl_categoria`
--
DROP TABLE IF EXISTS tbl_categoria;

--
--


--
-- Create table `tbl_categoria`
--
CREATE TABLE tbl_categoria (
  id_categoria INT(11) NOT NULL AUTO_INCREMENT,
  categoria VARCHAR(100) NOT NULL,
  PRIMARY KEY (id_categoria)
)
ENGINE = INNODB,
AUTO_INCREMENT = 17,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_general_ci;

--
-- Create table `tbl_herramienta`
--
CREATE TABLE tbl_herramienta (
  id_herramienta INT(11) NOT NULL AUTO_INCREMENT,
  herramienta VARCHAR(255) DEFAULT NULL,
  imagen VARCHAR(255) DEFAULT NULL,
  cantidad INT(11) DEFAULT NULL,
  prestados INT(11) DEFAULT NULL,
  id_categoria INT(11) NOT NULL,
  estado INT(11) DEFAULT NULL,
  PRIMARY KEY (id_herramienta)
)
ENGINE = INNODB,
AUTO_INCREMENT = 6,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_general_ci;

--
-- Create foreign key
--
ALTER TABLE tbl_herramienta 
  ADD CONSTRAINT tbl_herramienta_ibfk_1 FOREIGN KEY (id_categoria)
    REFERENCES tbl_categoria(id_categoria);

--
-- Create table `tbl_tipo_usuario`
--
CREATE TABLE tbl_tipo_usuario (
  id_tpusuario INT(11) NOT NULL AUTO_INCREMENT,
  tipoUsuario VARCHAR(50) DEFAULT NULL,
  PRIMARY KEY (id_tpusuario)
)
ENGINE = INNODB,
AUTO_INCREMENT = 4,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_general_ci;

--
-- Create table `tbl_empleado`
--
CREATE TABLE tbl_empleado (
  id_empleado INT(11) NOT NULL AUTO_INCREMENT,
  nombre VARCHAR(200) DEFAULT NULL,
  apellido VARCHAR(200) DEFAULT NULL,
  email VARCHAR(200) DEFAULT NULL,
  direccion VARCHAR(250) DEFAULT NULL,
  genero VARCHAR(50) DEFAULT NULL,
  identidad VARCHAR(20) DEFAULT NULL,
  fnacimiento DATE DEFAULT NULL,
  telefono INT(8) DEFAULT NULL,
  id_tipoUsuario INT(11) DEFAULT NULL,
  estado INT(11) DEFAULT NULL,
  PRIMARY KEY (id_empleado)
)
ENGINE = INNODB,
AUTO_INCREMENT = 6,
AVG_ROW_LENGTH = 6553,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_general_ci;

--
-- Create foreign key
--
ALTER TABLE tbl_empleado 
  ADD CONSTRAINT tbl_empleado_ibfk_1 FOREIGN KEY (id_tipoUsuario)
    REFERENCES tbl_tipo_usuario(id_tpusuario);

--
-- Create table `tbl_usuario`
--
CREATE TABLE tbl_usuario (
  id_usuario INT(11) NOT NULL AUTO_INCREMENT,
  usuario VARCHAR(100) NOT NULL,
  password VARCHAR(50) NOT NULL,
  estado INT(2) NOT NULL,
  id_empleado INT(11) NOT NULL,
  PRIMARY KEY (id_usuario)
)
ENGINE = INNODB,
AUTO_INCREMENT = 4,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_general_ci;

--
-- Create foreign key
--
ALTER TABLE tbl_usuario 
  ADD CONSTRAINT tbl_usuario_ibfk_1 FOREIGN KEY (id_empleado)
    REFERENCES tbl_empleado(id_empleado) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create table `tbl_prestamo`
--
CREATE TABLE tbl_prestamo (
  id_prestamo INT(11) NOT NULL AUTO_INCREMENT,
  id_herramienta INT(11) DEFAULT NULL,
  id_empleado INT(11) DEFAULT NULL,
  cant_prestada INT(11) DEFAULT NULL,
  fecha_prestamo VARCHAR(100) NOT NULL,
  fecha_devolucion VARCHAR(100) NOT NULL,
  estado_prestado INT(11) DEFAULT NULL,
  PRIMARY KEY (id_prestamo)
)
ENGINE = INNODB,
AUTO_INCREMENT = 4,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_general_ci;

--
-- Create foreign key
--
ALTER TABLE tbl_prestamo 
  ADD CONSTRAINT tbl_prestamo_ibfk_3 FOREIGN KEY (id_empleado)
    REFERENCES tbl_empleado(id_empleado);

--
-- Create foreign key
--
ALTER TABLE tbl_prestamo 
  ADD CONSTRAINT tbl_prestamo_ibfk_4 FOREIGN KEY (id_herramienta)
    REFERENCES tbl_herramienta(id_herramienta);

--
-- Create table `tbl_hdañadas`
--
CREATE TABLE tbl_hdañadas (
  id_hdañadas INT(11) NOT NULL AUTO_INCREMENT,
  id_prestamo INT(11) DEFAULT NULL,
  estado_dañada VARCHAR(100) DEFAULT NULL,
  descripcion VARCHAR(255) DEFAULT NULL,
  PRIMARY KEY (id_hdañadas)
)
ENGINE = INNODB,
AUTO_INCREMENT = 2,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_general_ci;

--
-- Create foreign key
--
ALTER TABLE tbl_hdañadas 
  ADD CONSTRAINT tbl_hdañadas_ibfk_1 FOREIGN KEY (id_prestamo)
    REFERENCES tbl_prestamo(id_prestamo);

-- 
-- Dumping data for table tbl_categoria
--
INSERT INTO tbl_categoria VALUES
(1, 'Herramienta'),
(2, 'Equipo'),
(9, 'oficina'),
(16, 'qq');

-- 
-- Dumping data for table tbl_tipo_usuario
--
INSERT INTO tbl_tipo_usuario VALUES
(1, 'Administrador'),
(2, 'Usuario'),
(3, 'Colaborador');

-- 
-- Dumping data for table tbl_herramienta
--
INSERT INTO tbl_herramienta VALUES
(1, 'Martillo', ' ../assets/img/martillo.jpg', 3, 1, 1, 1),
(2, 'tornillo', '../assets/img/tornillo.jpg', 3, -2, 9, 1),
(3, 'broca', '../assets/img/broca.jpg', 2, 0, 1, 1),
(4, 'prenza', '../assets/img/prenza.png', 5, 0, 2, 1);

-- 
-- Dumping data for table tbl_empleado
--
INSERT INTO tbl_empleado VALUES
(1, 'stephany', 'calix', 'calixstephany2000@gmail.com', 'colinas', 'Femenino', '0601200000777', '2023-04-10', 96603565, 1, 1),
(2, 'paola', 'cruz', 'calixstephany2000@gmail.com', 'colinas', 'Femenino', '0701200000777', '2023-04-10', 96603565, 2, 1),
(3, 'isabel', 'aguilera', 'calixdania@gmail.com', 'colinas', 'Femenino', '0801200000777', '2023-04-11', 96603565, 2, 1),
(4, 'jose', 'elvir', 'calixstephany2000@gmail.com', 'colinas', 'Femenino', '0602200000777', '2023-04-10', 96603565, 3, 1),
(5, 'xc', 'sdf', 'calixdania@gmail.com', 'colinas', 'Masculino', '0401200000777', '2023-04-05', 96603565, 1, NULL);

-- 
-- Dumping data for table tbl_prestamo
--
INSERT INTO tbl_prestamo VALUES
(1, 1, 1, 1, '2023-04-21 05:20:22', '', 1),
(2, 1, 1, 1, '2023-04-26 15:01:59', '2023-04-26 15:03:57', 2),
(3, 1, 1, 1, '2023-04-26 15:02:16', '2023-04-26 15:03:26', 2);

-- 
-- Dumping data for table tbl_usuario
--
INSERT INTO tbl_usuario VALUES
(1, 'stephany', '81dc9bdb52d04dc20036dbd8313ed055', 1, 1),
(2, 'paola', '2e99bf4e42962410038bc6fa4ce40d97', 1, 2),
(3, 'isabel', '81dc9bdb52d04dc20036dbd8313ed055', 1, 3);

-- 
-- Dumping data for table tbl_hdañadas
--
-- Table constructora.tbl_hdañadas does not contain any data (it is empty)

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;